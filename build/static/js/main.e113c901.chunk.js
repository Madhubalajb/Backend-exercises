(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),l=(a(84),a(36)),s=a(23),i=a(78),u=a(10),m=a(31),d=a(138),p=a(132),f=a(68),E=a(32),b=a.n(E),h=a(134),g=function(e){return r.a.createElement(h.a,null,r.a.createElement(f.a,{sm:"3"},r.a.createElement(h.a.Control,{className:"filter",title:"Search by Name",onChange:e.filters,placeholder:"Search Contacts ..."})))},v=function(e){var t=e.filteredItems;return r.a.createElement("div",null,t.map(function(a){return Object(m.a)("filteredItems"),(t=[])?r.a.createElement("div",null,"None, Try adding some :)"):r.a.createElement("div",{key:a.id,className:"contact"},r.a.createElement("i",{className:"material-icons person"},"assignment_ind"),r.a.createElement("span",{className:"name"},a.name)," - ",r.a.createElement("span",{className:"number"},a.number),r.a.createElement("i",{className:"material-icons delete",title:"Delete Contact",onClick:function(){return e.remove(a)}},"delete"))}))},w=a(133),N=function(e){return r.a.createElement(h.a,{onSubmit:e.add},r.a.createElement(p.a,null,r.a.createElement(f.a,{sm:"2"},r.a.createElement("i",{className:"material-icons"},"person_add")),r.a.createElement(f.a,{sm:"10"},r.a.createElement(h.a.Control,{onChange:e.person,value:e.newPerson||"",placeholder:"Contact Name",required:!0}))),r.a.createElement(p.a,null,r.a.createElement(f.a,{sm:"2"},r.a.createElement("i",{className:"material-icons"},"phone")),r.a.createElement(f.a,{sm:"10"},r.a.createElement(h.a.Control,{onChange:e.number,value:e.newNumber||"",placeholder:"Phone Number",required:!0}))),r.a.createElement(w.a,{className:"btn-sm btn_icon",type:"submit",title:"Add Contact"},r.a.createElement("i",{className:"material-icons"},"add_circle"),r.a.createElement("span",null,"Add")))},k=function(e){return null===e.msg?null:e.msg},j=a(6),O=a.n(j),y=a(13),S=a(20),x=a.n(S),C="/api/persons",_=null,P={setToken:function(e){_="bearer ".concat(e)},getData:function(){var e=Object(y.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(C);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),addData:function(){var e=Object(y.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:_}},e.next=3,x.a.post(C,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),deleteData:function(){var e=Object(y.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:_}},e.next=3,x.a.delete("".concat(C,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),updateData:function(){var e=Object(y.a)(O.a.mark(function e(t,a){var n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:_}},e.next=3,x.a.put("".concat(C,"/").concat(t),a,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},D=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(u.a)(o,2),s=l[0],E=l[1],h=Object(n.useState)(""),w=Object(u.a)(h,2),j=w[0],O=w[1],y=Object(n.useState)(""),S=Object(u.a)(y,2),x=S[0],C=S[1],_=Object(n.useState)(""),D=Object(u.a)(_,2),A=D[0],L=D[1],B=null;Object(n.useEffect)(function(){Object(m.a)("loggedUser"),(B=window.localStorage.getItem("logged_PhoneApp_User"))&&P.getData().then(function(e){return c(e.filter(function(e){return e.user.id===JSON.parse(B).id}))})},[]);var U=function(e){L(e),setTimeout(function(){L(null)},5e3)},I=function(){E(""),O("")},T=a.filter(function(e){return-1!==e.name.toLowerCase().indexOf(x.toLowerCase())});return r.a.createElement("center",{className:"container"},r.a.createElement(k,{msg:A}),r.a.createElement("div",null,r.a.createElement("img",{className:"phonebook_logo",src:b.a,alt:"Phonebook Logo"}),r.a.createElement("h2",null,"Phonebook"),r.a.createElement(g,{filters:function(e){return C(e.target.value)}})),r.a.createElement("div",{className:"row main-row"},r.a.createElement(d.a,{className:"col-sm-6"},r.a.createElement("h2",null,"Add a contact"),r.a.createElement(N,{add:function(e){if(e.preventDefault(),function(e){if(isNaN(Number(e)))return!1;for(var t=String(e),a=0,n=0;n<t.length;n++)"0"===t[n]&&(a+=1);return a!==t.length}(j))if(a.some(function(e){return e.name===s})){if(window.confirm("".concat(s," is already exists, do you want to replace the number?"))){var t=a.find(function(e){return e.name===s}),n=Object(i.a)({},t,{number:j});P.updateData(n.id,n).then(function(e){c(a.map(function(t){return t.id!==n.id?t:e})),U(r.a.createElement("div",{id:"snackbar"},"Updated contact ",n.name)),I()}).catch(function(e){U(r.a.createElement("div",{id:"snackbar"},s," has already been deleted")),I()})}}else{var o={name:s,number:j,id:a.length+1};P.addData(o).then(function(e){c(a.concat(e)),U(r.a.createElement("div",{id:"snackbar"},"Added contact ",s)),I()}).catch(function(e){U(r.a.createElement("div",{id:"snackbar"},"Person validation failed: Name & Number should be a length of minimum 3, 8 respectively. ")),I()})}else U(r.a.createElement("div",{id:"snackbar"},"Please enter valid Number")),I()},person:function(e){return E(e.target.value)},number:function(e){return O(e.target.value)},newNumber:j,newPerson:s})),r.a.createElement(d.a,{className:"col-sm-6"},r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement("h2",null,"Contacts"))),r.a.createElement(v,{filteredItems:T,remove:function(e){window.confirm("Wanna delete ".concat(e.name,"?"))&&P.deleteData(e.id).then(function(t){c(a.filter(function(t){return t.id!==e.id})),U(r.a.createElement("div",{id:"snackbar"},"Deleted contact ",e.name))}).catch(function(e){U(r.a.createElement("div",{id:"snackbar"},"Person ",s," has already been deleted"))})}}))))},A=a(69),L=a.n(A),B=a(70),U=a.n(B),I=a(71),T=a.n(I),q=function(){return r.a.createElement("center",{className:"container"},r.a.createElement("div",null,r.a.createElement("img",{className:"phonebook_logo",src:b.a,alt:"Phonebook Logo"}),r.a.createElement("h2",null,"Phonebook"),r.a.createElement("div",{className:"logos"},r.a.createElement("span",{className:"logo react"},r.a.createElement("img",{src:L.a,alt:"Reactjs",title:"React"})),r.a.createElement("span",{className:"plus"},"+"),r.a.createElement("span",{className:"logo node"},r.a.createElement("img",{src:U.a,alt:"Nodejs",title:"Node JS"})),r.a.createElement("span",{className:"plus"},"+"),r.a.createElement("span",{className:"logo mongodb"},r.a.createElement("img",{src:T.a,alt:"Mongodb",title:"mongo DB"}))),r.a.createElement("ol",{className:"stack"},r.a.createElement("li",{className:"tech"},"Express"),r.a.createElement("li",{className:"tech"},"REST API"),r.a.createElement("li",{className:"tech"},"SASS"),r.a.createElement("li",{className:"tech"},"Bootstrap"))),r.a.createElement("p",{className:"footer"},"designed & developed by ",r.a.createElement("a",{href:"https://madhubalajb.github.io/",rel:"noopener noreferrer",target:"_blank"},"madhubala jayakumaran")))},H=a(137),J=a(136),z=a(135),R=function(e){return r.a.createElement(z.a,{show:e.show,onHide:e.close},r.a.createElement(z.a.Header,{closeButton:!0},r.a.createElement("b",null,"Login")),r.a.createElement(z.a.Body,null,r.a.createElement(h.a,{onSubmit:e.login},r.a.createElement(h.a.Control,{type:"text",placeholder:"Username",onChange:e.username,required:!0}),r.a.createElement(h.a.Control,{type:"password",placeholder:"Password",onChange:e.pwd,required:!0}),r.a.createElement("center",null,r.a.createElement(w.a,{type:"submit"},"Login")))))},W=function(e){return r.a.createElement(z.a,{show:e.show,onHide:e.close},r.a.createElement(z.a.Header,{closeButton:!0},"Sign Up"),r.a.createElement(z.a.Body,null,r.a.createElement(h.a,{onSubmit:e.signup},r.a.createElement(h.a.Control,{type:"text",placeholder:"Name",onChange:e.name,required:!0}),r.a.createElement(h.a.Control,{type:"text",placeholder:"Username",onChange:e.username,required:!0}),r.a.createElement(h.a.Control,{type:"password",placeholder:"Password",onChange:e.pwd,required:!0}),r.a.createElement("center",null,r.a.createElement(w.a,{type:"submit"},"Signup")))))},M={login:function(){var e=Object(y.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},$={signup:function(){var e=Object(y.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/api/users",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},F=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],o=function(){return c(!1)},l=Object(n.useState)(!1),s=Object(u.a)(l,2),i=s[0],m=s[1],d=function(){return m(!1)},p=Object(n.useState)(""),f=Object(u.a)(p,2),E=f[0],b=f[1],h=Object(n.useState)(""),g=Object(u.a)(h,2),v=g[0],w=g[1],N=Object(n.useState)(""),j=Object(u.a)(N,2),S=j[0],x=j[1],C=Object(n.useState)(""),_=Object(u.a)(C,2),D=_[0],A=_[1],L=Object(n.useState)(""),B=Object(u.a)(L,2),U=B[0],I=B[1];Object(n.useEffect)(function(){var e=window.localStorage.getItem("logged_PhoneApp_User");if(e){var t=JSON.parse(e);b(t),P.setToken(t.token)}},[]);var T=function(e){I(e),setTimeout(function(){I(null)},5e3)},q=function(){w(""),x(""),A("")},H=function(e){return x(e.target.value)},z=function(e){return A(e.target.value)},F=function(){var e=Object(y.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,M.login({username:S,password:D}).then(function(e){window.localStorage.setItem("logged_PhoneApp_User",JSON.stringify(e)),P.setToken(e.token),b(e),q(),o(),window.location.reload(!1),T(r.a.createElement("div",{id:"snackbar"},"Hi ",e.username," ",r.a.createElement("i",{className:"material-icons"},"sentiment_very_satisfied")))}).catch(function(e){b(""),q(),o(),T(r.a.createElement("div",{id:"snackbar"},"Sorry ",E.username,", something went wrong ",r.a.createElement("i",{className:"material-icons"},"sentiment_very_dissatisfied")))});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(y.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,$.signup({name:v,username:S,password:D}).then(function(e){b(""),q(),d(),T(r.a.createElement("div",{id:"snackbar"},"User ",e.username," added ",r.a.createElement("i",{className:"material-icons"},"sentiment_very_satisfied")))});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return""===E?r.a.createElement("div",null,r.a.createElement(k,{msg:U}),r.a.createElement(J.a.Link,{onClick:function(){return c(!0)}},"Login"),r.a.createElement(R,{show:a,close:o,username:H,pwd:z,login:F}),r.a.createElement(J.a.Link,{onClick:function(){return m(!0)}},"Signup"),r.a.createElement(W,{show:i,close:d,name:function(e){return w(e.target.value)},username:H,pwd:z,signup:G})):r.a.createElement("div",null,r.a.createElement(k,{msg:U}),r.a.createElement(J.a.Link,{onClick:function(){T(r.a.createElement("div",{id:"snackbar"},"Bye ",E.username," ",r.a.createElement("i",{className:"material-icons"},"sentiment_dissatisfied"))),b(""),window.localStorage.removeItem("logged_PhoneApp_User"),P.setToken(""),window.location.reload(!1)}},"Logout"))},G=function(){return r.a.createElement(H.a,{collapseOnSelect:!0,expand:"sm",className:"fixed-top"},r.a.createElement(H.a.Brand,{href:"/"},r.a.createElement("i",{className:"material-icons house",title:"Home"},"house")),r.a.createElement(H.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(H.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(J.a,{className:"ml-auto"},r.a.createElement(J.a.Link,null,r.a.createElement(l.b,{to:"/about"},"about")),r.a.createElement(F,null))))},K=function(){return r.a.createElement(l.a,null,r.a.createElement(G,null),r.a.createElement(s.a,{exact:!0,path:"/",component:D}),r.a.createElement(s.a,{exact:!0,path:"/about",component:function(){return r.a.createElement(q,null)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(129);o.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},32:function(e,t,a){e.exports=a.p+"static/media/phone-book.55d8da50.png"},69:function(e,t,a){e.exports=a.p+"static/media/reactjs.815bfb21.png"},70:function(e,t,a){e.exports=a.p+"static/media/nodejs.dacb853d.png"},71:function(e,t,a){e.exports=a.p+"static/media/mongodb.3bd34a07.png"},79:function(e,t,a){e.exports=a(130)},84:function(e,t,a){}},[[79,1,2]]]);
//# sourceMappingURL=main.e113c901.chunk.js.map